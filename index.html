<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Mallouk Bike</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="https://i.postimg.cc/kgrvnzGZ/image-2-Photoroom.png">
  <link rel="apple-touch-icon" href="https://i.postimg.cc/kgrvnzGZ/image-2-Photoroom.png">
  <meta name="theme-color" content="#34d399">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;600;500;400&family=Almarai:wght@700;600;400&family=Tajawal:wght@700;500;400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --gradient: linear-gradient(90deg,#00A115 0%,#00a115 100%);
      --whatsapp-gradient: linear-gradient(90deg, #25d366 0%, #128c7e 100%);
      --glass-bg: rgba(255, 255, 255, 0);
      --glass-blur: blur(10px);
      --green: #000000;
      --turquoise: #5eead4;
      --gold: #ffd94a;
      --danger: #d9303e;
      --info: #3191e1;
      --gray: #f6fcff;
      --yellow-hl: #ffe066;
    }
    html {box-sizing: border-box;}
    *,*:before,*:after {box-sizing: inherit;}
    body {
      font-family:'Cairo', 'Tajawal', 'Almarai', Arial, sans-serif;
      background: var(--gray);
      margin: 0;
      color:#223;
      min-height: 100vh;
      direction: rtl;
      text-align: right;
    }
    .header {
      position: relative;
      text-align:center;
      padding:40px 10px 20px;
      background: var(--gradient);
      background-size: 150% 150%;
      animation: gradientBG 6s ease-in-out infinite alternate;
      border-bottom: 1.5px solid #eafff4;
      box-shadow: 0 6px 40px #34d39933;
      z-index: 10;
    }
    @keyframes gradientBG {
      to {background-position: 100% 100%;}
    }
    .glass {
      background: var(--glass-bg);
      box-shadow: 0 4px 32px #34d39922;
      backdrop-filter: var(--glass-blur);
      border-radius: 18px;
      padding: 16px 24px;
      display: inline-block;
      margin-bottom: 18px;
    }
    .header-glass {
      width: 100%;
      max-width: 700px;
      margin: 0 auto 18px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .logo {
      width: 80px;
      border-radius:50%;
      box-shadow:0 4px 24px #ffd94aaa;
      margin-bottom: 14px;
      background: #fff;
    }
    .title {
      font-size:2.2em;
      font-weight:700;
      color:#fff;
      letter-spacing:1.2px;
      text-shadow: 0 2px 11px #34d39988;
      margin-bottom: 9px;
      font-family:'Cairo', 'Almarai', 'Tajawal', Arial, sans-serif;
    }
    .subtitle{
      color:#fffbe5;
      font-size:1.12em;
      font-weight:600;
      text-shadow:0 2px 12px #34d39955;
      margin-bottom: 14px;
      font-family:'Cairo', 'Tajawal', 'Almarai', Arial, sans-serif;
    }
    .search-bar-box {
      margin: 0 auto 0;
      max-width: 460px;
      display: flex;
      align-items: center;
      position: relative;
      justify-content: center;
      flex-direction: row-reverse;
      width: 100%;
    }
    .search-bar {
      width: 100%;
      font-family: inherit;
      padding: 13px 18px 13px 44px;
      border-radius: 15px;
      border: none;
      font-size: 1.05em;
      background: rgba(255,255,255,0.7);
      box-shadow: 0 2px 18px #34d39915;
      transition: box-shadow 0.2s;
      outline: none;
      color: #223;
      direction: rtl;
      text-align: right;
    }
    .search-bar:focus {
      box-shadow: 0 4px 18px #34d39944;
      border: 1.8px solid var(--turquoise);
    }
    .search-icon {
      position: absolute;
      left: 19px;
      font-size: 1.3em;
      color: var(--green);
      pointer-events: none;
    }
    .whatsapp-contact-row {
      display: flex;
      justify-content: center;
      align-items: stretch;
      margin: 18px 0 0 0;
      width: 100%;
      gap: 14px;
      flex-wrap: wrap;
    }
    .whatsapp-contact-btn, .facebook-contact-btn {
      min-width: 0;
      flex: 1 1 180px;
      max-width: 300px;
    }
    .whatsapp-contact-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: var(--whatsapp-gradient);
      color: #fff;
      font-size: 1.16em;
      font-weight: 700;
      border: none;
      border-radius: 36px;
      padding: 10px 26px 10px 20px;
      box-shadow: 0 2px 16px #25d36644;
      cursor: pointer;
      text-decoration: none;
      transition: box-shadow 0.18s, transform 0.17s, background 0.14s;
      outline: none;
      direction: rtl;
      min-width: 0;
      will-change: transform, box-shadow;
      position: relative;
      z-index: 11;
      animation: fadeInScale 0.65s cubic-bezier(.23,.7,.52,1.02) 0.1s both;
      justify-content: center;
    }
    .whatsapp-contact-btn:focus {
      outline: 2.5px solid #128c7e;
      outline-offset: 2px;
      box-shadow: 0 0 0 3px #25d36633;
    }
    .whatsapp-contact-btn:hover {
      box-shadow: 0 6px 28px #25d36677;
      transform: scale(1.045);
      background: linear-gradient(90deg,#26e265 0%,#119e7e 100%);
    }
    .whatsapp-contact-btn:active {
      transform: scale(1.02);
    }
    .whatsapp-contact-btn .fa-whatsapp {
      font-size: 1.45em;
      color: #fff;
      margin-left: 0;
      margin-right: 0;
      filter: drop-shadow(0 2px 8px #128c7e33);
    }
    .facebook-contact-btn {
      background: linear-gradient(90deg, #1877f3 70%, #145db2 100%);
      color: #fff;
      border: none;
      border-radius: 36px;
      box-shadow: 0 2px 8px rgba(24,119,243,0.10);
      display: flex;
      align-items: center;
      font-weight: 600;
      padding: 10px 26px 10px 20px;
      text-decoration: none;
      transition: background 0.14s, box-shadow 0.14s;
      gap: 10px;
      justify-content: center;
      font-size: 1.16em;
    }
    .facebook-contact-btn .icon {
      color: #fff;
      font-size: 1.3rem;
      margin-left: 8px;
    }
    .facebook-contact-btn:hover, .facebook-contact-btn:focus {
      background: linear-gradient(80deg, #145db2 70%, #1877f3 100%);
      color: #fff;
    }
    @keyframes fadeInScale {
      0% { opacity: 0; transform: scale(0.8) translateY(-12px); }
      60% { opacity: 1; transform: scale(1.04) translateY(5px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }
    .category-filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 13px;
      margin: 24px 0 12px;
      flex-direction: row-reverse;
    }
    .filter-btn {
      padding: 8px 20px;
      border-radius: 10px;
      border: none;
      font-family: 'Cairo', 'Almarai', 'Tajawal', Arial;
      font-weight: 700;
      background: linear-gradient(90deg, #eafff4 0%, #fffbe5 70%);
      color: var(--green);
      cursor: pointer;
      box-shadow: 0 2px 10px #34d39915;
      transition: background 0.18s, box-shadow 0.22s, color 0.18s, transform 0.22s;
      position: relative;
      outline: none;
      min-width: 0;
      font-size: 1.07em;
    }
    .filter-btn.active {
      background: var(--gradient);
      color: #fff;
      box-shadow: 0 4px 20px #34d39933;
      transform: scale(1.08);
    }
    .counter {
      text-align:center;
      margin: 10px auto 0;
      color: var(--green);
      font-weight: 700;
      font-size:1.05em;
    }
    .add-bike-form {
      max-width:440px;
      margin:36px auto 0;
      background: #fff;
      border-radius:18px;
      box-shadow:0 3px 22px #34d39919;
      padding:28px 18px 18px;
      position: relative;
      overflow: visible;
      direction: rtl;
      text-align: right;
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
    .add-bike-form .form-title {
      font-weight:700;
      font-size:1.18em;
      color:var(--green);
      margin-bottom:14px;
      letter-spacing:0.5px;
      font-family:'Cairo', 'Almarai', 'Tajawal', Arial, sans-serif;
    }
    .add-bike-form input[type="text"], .add-bike-form select {
      width:100%;
      margin-bottom:10px;
      padding:15px 13px;
      border-radius:11px;
      border:1.7px solid #eee;
      font-size:1.03em;
      font-family:inherit;
      background: #f9f9f9;
      transition: border 0.2s;
      direction: rtl;
      text-align: right;
      min-height: 47px;
    }
    .add-bike-form input[type="text"]:focus, .add-bike-form select:focus {
      outline:none;
      border-color:var(--green);
      background: #f6fcff;
    }
    .add-bike-form input[type="file"] {
      width:100%;
      margin-bottom:10px;
      padding:10px;
      border-radius:11px;
      border:1.7px solid #eee;
      font-size:0.97em;
      font-family:inherit;
      background:#f9f9f9;
    }
    .add-bike-form input[type="file"]:focus {
      outline:none;
      border-color:var(--green);
    }
    .add-bike-form .add-btn {
      background: var(--gradient);
      color: #fff;
      border: none;
      border-radius: 11px;
      padding: 14px 30px;
      font-size:1.09em;
      font-weight:700;
      cursor:pointer;
      font-family:'Cairo', 'Tajawal', 'Almarai', Arial;
      box-shadow: 0 2px 12px #34d39921;
      position: relative;
      overflow: hidden;
      transition: box-shadow 0.2s, transform 0.19s;
      display: flex;
      align-items: center;
      gap: 7px;
      flex-direction: row-reverse;
      min-width: 0;
      justify-content: center;
    }
    .add-bike-form .msg {
      margin-right:13px;
      font-size:0.98em;
      font-weight:600;
      position: absolute;
      left: 24px;
      top: 19px;
      direction: rtl;
      text-align: right;
    }
    .add-bike-form .loading {
      display: inline-block;
      width: 22px;
      height: 22px;
      border: 3px solid #34d39933;
      border-top: 3px solid #34d399;
      border-radius: 50%;
      animation: spin 0.7s linear infinite;
      vertical-align: middle;
      margin-right:7px;
      margin-left:0;
    }
    @keyframes spin {
      to {transform: rotate(360deg);}
    }
    .bikes-list {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(290px,1fr));
      gap:32px;
      max-width:1080px;
      margin:42px auto 0;
      padding:0 12px;
      min-height: 120px;
      transition: min-height 0.3s;
      direction: rtl;
      text-align: right;
    }
    .no-result {
      text-align:center;
      color: #d9303e;
      font-size:1.07em;
      background: #fff2f2;
      border-radius: 13px;
      margin: 30px auto 0;
      padding: 24px 15px;
      max-width: 420px;
      box-shadow: 0 2px 12px #d9303e11;
      animation: fadeIn 0.4s;
      direction: rtl;
    }
    .bike-card {
      background:#fff;
      box-shadow:0 4px 32px #34d39925;
      padding:30px 18px 20px;
      border-radius:22px;
      display:flex;
      flex-direction:column;
      align-items:center;
      position:relative;
      animation: fadeIn 0.7s cubic-bezier(.24,.93,.63,1.08);
      opacity: 0;
      transform: scale(0.97) translateY(12px);
      animation-fill-mode: forwards;
      direction: rtl;
      text-align: right;
      border: 3px solid transparent;
      transition: border 0.27s, box-shadow 0.17s;
    }
    .bike-card.product-highlight {
      border: 3px solid var(--yellow-hl);
      box-shadow: 0 0 40px 0 var(--yellow-hl), 0 4px 32px #34d39925;
      z-index: 2;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.97) translateY(12px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    .bike-card:hover {
      box-shadow:0 8px 44px #34d39938;
      transform: scale(1.03) perspective(700px) rotateY(2deg) rotateX(2deg);
      transition: box-shadow 0.25s, transform 0.3s;
    }
    .badge {
      position:absolute;
      top:18px;
      right:21px;
      padding:7px 18px;
      font-weight:700;
      border-radius:10px;
      font-size:1em;
      box-shadow: 0 2px 8px #fffbe599;
      letter-spacing: 1px;
      z-index: 1;
      color: #fff;
      font-family:'Cairo', 'Tajawal', 'Almarai', Arial;
    }
    .badge.vtt {background: linear-gradient(90deg,#00c3a0 0%,#34d399 90%);}
    .badge.route {background: linear-gradient(90deg,#3191e1 0%,#5eead4 80%);}
    .badge.trottinette {background: linear-gradient(90deg,#b7c800 0%,#ffd94a 90%); color: #876200;}
    .badge.accessoires {background: linear-gradient(90deg,#f88372 0%,#ffd94a 70%); color: #876200;}
    .badge.mecanique {background: linear-gradient(90deg,#d9303e 0%,#34d399 70%);}
    .badge.enfant {background: linear-gradient(90deg,#f7b2d9 0%,#5eead4 80%);}
    .badge.malhekat {background: linear-gradient(90deg,#9333ea 0%,#c084fc 80%); color: #fff;}
    .bike-img {
      width:95%; max-width:210px;height:140px;object-fit:cover; border-radius:13px;background:#eafff4;box-shadow:0 2px 11px #1de9b622;margin-bottom:11px; cursor:zoom-in; transition: transform 0.18s, box-shadow 0.2s;
    }
    .bike-card:hover .bike-img {
      transform: scale(1.08) rotateZ(2deg);
      box-shadow: 0 4px 22px #34d39933;
    }
    .bike-name {
      font-size:1.16em;
      font-weight:700;
      color:var(--green);
      letter-spacing:.6px;
      background:#d9ffd3;
      width:fit-content;
      padding:8px 27px;
      border-radius:13px;
      margin-bottom: 8px;
      box-shadow: 0 2px 12px #34d39918;
      font-family: 'Cairo', 'Almarai', 'Tajawal';
    }
    .bike-desc {
      font-size:0.98em;
      color:#444;
      background: #f6fcff;
      border-radius: 7px;
      padding: 8px 13px;
      margin-bottom: 10px;
      text-align: center;
      min-height: 32px;
      font-family: inherit;
      letter-spacing: 0.2px;
      direction: rtl;
    }
    .card-btns {
      display: flex;
      gap: 9px;
      margin-top: 13px;
      flex-direction: row-reverse;
      flex-wrap: wrap;
    }
    .share-btn, .delete-btn {
      background: var(--gradient);
      color: #fff;
      font-family:'Cairo', 'Almarai', 'Tajawal', Arial,sans-serif;
      font-weight:700;
      border:none;
      border-radius:11px;
      padding:10px 26px;
      font-size:1em;
      box-shadow:0 2px 10px #34d39921;
      cursor:pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      position: relative;
      overflow: hidden;
      transition: box-shadow 0.2s, transform 0.17s;
      flex-direction: row-reverse;
      min-width: 0;
    }
    .share-btn:active, .delete-btn:active {
      box-shadow:0 4px 20px #34d39933;
      transform: scale(1.06);
    }
    .delete-btn {
      background: linear-gradient(90deg,#d9303e 0%,#ffd94a 90%);
      color:#fff;
    }
    .delete-btn:active {
      box-shadow:0 4px 20px #d9303e33;
      transform: scale(1.07);
    }
    .footer {
      text-align:center;
      padding:22px 14px 10px;
      color:var(--green);
      font-size:1em;
      margin-top:48px;
      background: linear-gradient(90deg,#5eead4 0%,#fffbe5 100%);
      border-radius: 0 0 18px 18px;
      box-shadow: 0 -2px 28px #34d39922;
      direction: rtl;
    }
    .popup-overlay {
      position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(44,221,153,.14);backdrop-filter:blur(4px);display:none;justify-content:center;align-items:center;z-index:1000;
    }
    .popup-overlay.active{display:flex;}
    .popup-img-box{
      background:var(--glass-bg);
      box-shadow:0 8px 44px #34d39933;border-radius:23px;padding:22px;display:flex;flex-direction:column;align-items:center;position:relative;max-width:90vw;max-height:90vh;
      backdrop-filter: blur(11px);
      animation: fadeIn 0.3s;
      direction: rtl;
      text-align: right;
    }
    .popup-img{max-width:100%; max-height:80vh; border-radius:16px;}
    .close-btn{position:absolute;top:8px;left:15px;font-size:2.1em;color:var(--green);background:none;border:none;cursor:pointer;z-index:2;}
    .share-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.28);backdrop-filter:blur(1.5px);z-index:1999;display:none;}
    .share-overlay.active{display:block;}
    .share-popup{background:var(--glass-bg);box-shadow:0 8px 32px #34d39933;padding:27px 18px 22px;border-radius:17px;max-width:97vw;width:390px;display:none;flex-direction:column;align-items:center;position:fixed;right:50%;top:50%;transform:translate(50%,-50%);z-index:2000;backdrop-filter:blur(11px);direction: rtl;}
    .share-popup.active{display:flex;}
    .share-popup-title{font-weight:700;color:#25ba7b;font-size:1.1em;margin-bottom:13px;font-family:'Cairo','Tajawal','Almarai';}
    .share-popup input{width:99%;margin-top:9px;padding:10px 12px;border-radius:11px;border:1.5px solid #dddddd;font-size:0.99em; background: #fff;direction: ltr;text-align: left;}
    .share-popup input:focus{outline:none;border-color:var(--green);}
    .share-popup .copy-btn{margin-top:14px;background:var(--gradient);color:#fff;font-weight:700;border:none;border-radius:11px;padding:11px 27px;cursor:pointer;font-size:1em;display: flex;align-items: center;gap: 7px;flex-direction: row-reverse;}
    .share-popup .copy-btn:active {
      box-shadow:0 4px 20px #34d39933;
      transform: scale(1.07);
    }
    .share-popup .copied{display:none;margin-top:8px;color:var(--green);font-weight:700;}
    .share-popup .copied.active{display:block;}
    @media (max-width: 1024px) {
      .header-glass {max-width: 98vw;}
      .bikes-list {padding: 0 4vw;}
    }
    @media (max-width: 768px) {
      .header {padding: 27px 5px 14px;}
      .title {font-size: 1.65em;}
      .subtitle{font-size: 1em;}
      .glass, .header-glass {padding: 11px 5px;}
      .category-filters {gap: 7px;}
      .add-bike-form {padding: 14px 4px 10px;}
      .add-bike-form .form-title {font-size:1.07em;}
      .bikes-list {gap: 18px; margin-top: 29px;}
      .bike-card {padding: 18px 7px 10px;}
      .bike-name {font-size: 1em; padding: 7px 12px;}
      .badge {font-size: 0.97em; padding: 6px 13px;}
    }
    @media (max-width: 600px) {
      .header {padding: 16px 2px 7px;}
      .title {font-size: 1.18em;}
      .subtitle{font-size: 0.93em;}
      .header-glass {min-width: 0;}
      .glass, .header-glass {padding: 7px 1vw;}
      .search-bar-box {max-width: 99vw; width: 100%;}
      .search-bar {font-size: 0.99em; padding: 10px 12px 10px 37px; min-height: 42px;}
      .search-icon {left: 10px; font-size: 1.1em;}
      .whatsapp-contact-row {
        flex-direction: column;
        gap: 8px;
        width: 100%;
        align-items: stretch;
        margin-top: 12px;
      }
      .whatsapp-contact-btn, .facebook-contact-btn {
        width: 100%;
        min-width: 0;
        max-width: none;
        padding: 11px 0;
        font-size: 1em;
        border-radius: 18px;
        justify-content: center;
      }
      .facebook-contact-btn {
        margin-left: 0;
        margin-top: 0;
        padding: 11px 0;
      }
      .category-filters {
        gap: 6px;
        margin: 16px 0 7px;
      }
      .filter-btn {
        font-size: 0.98em;
        padding: 7px 11px;
        min-width: 0;
      }
      .counter {font-size: 0.99em;}
      .add-bike-form {padding: 8px 1vw 8px;gap: 2px;}
      .add-bike-form .form-title {font-size:0.98em;}
      .add-bike-form input[type="text"], .add-bike-form select {
        padding: 12px 10px;
        min-height: 38px;
        font-size: 0.97em;
      }
      .add-bike-form input[type="file"] {
        font-size: 0.95em;
        padding: 7px 3px;
      }
      .add-bike-form .add-btn {
        font-size: 0.99em;
        padding: 10px 0;
        border-radius: 14px;
      }
      .bike-name {font-size: 0.97em; padding: 6px 7px;}
      .bike-desc {font-size:0.95em; padding: 7px 6px;}
      .badge {font-size: 0.9em; padding: 5px 8px; right: 7px; top: 8px;}
      .bikes-list {gap: 10px; margin-top: 14px; padding: 0 3vw;}
      .bike-card {padding:12px 3px 7px;}
      .card-btns {gap: 6px;}
      .share-btn, .delete-btn {
        padding:8px 0;
        font-size: 0.98em;
        border-radius: 13px;
        min-width: 0;
        width: 100%;
        justify-content: center;
      }
      .footer {font-size: 0.97em; padding: 14px 5px 6px; margin-top: 22px;}
      .popup-img-box {padding: 0.5em; max-width: 98vw;}
      .popup-img {max-width: 96vw; max-height: 60vh;}
      .close-btn {font-size: 1.5em; left: 5px; top: 3px;}
      .share-popup {width: 98vw; padding: 16px 4px 13px;}
      .share-popup input {font-size: 0.96em;}
      .share-popup-title {font-size: 0.98em;}
      .share-popup .copy-btn {padding: 8px 0; font-size: 0.97em;}
    }
    @media (max-width: 480px) {
      .add-bike-form {padding: 4px 2px 6px;}
      .add-bike-form input[type="text"], .add-bike-form select {padding: 10px 6px;}
      .bikes-list {padding: 0 1vw;}
      .footer {font-size: 0.92em;}
    }
    @media (max-width: 400px) {
      .header-glass {padding: 2px 0;}
      .glass {padding: 4px 0;}
      .title {font-size: 0.99em;}
      .subtitle {font-size: 0.85em;}
    }
    @media (max-width: 400px), (max-width: 380px) {
      .add-bike-form {max-width: 99vw;}
      .share-popup {width: 99vw;}
    }
    @media (max-width: 520px){
      .header{padding:11px 1vw 2px;}
      .glass, .header-glass {padding:5px 1vw;}
      .category-filters{gap:4px;}
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="glass header-glass">
      <img src="https://i.postimg.cc/kgrvnzGZ/image-2-Photoroom.png" class="logo" alt="ÿ¥ÿπÿßÿ± ŸÖÿßŸÑŸàŸÉ ÿ®ÿßŸäŸÉ">
      <div class="title">Mallouk Bike </div>
      <div class="subtitle">ÿßŸáŸÑÿß ÿ®ŸÉ ŸÅŸä ŸÖÿ™ÿ¨ÿ±ŸÜÿß üõíüöÄ</div>
      <div class="search-bar-box">
        <input type="text" class="search-bar" id="searchBar" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÖŸÜÿ™ÿ¨..." autocomplete="off">
        <span class="search-icon"><i class="fa fa-search"></i></span>
      </div>
      <div class="whatsapp-contact-row" id="contact-row">
        <a href="https://wa.me/96170323991" target="_blank" rel="noopener noreferrer" class="whatsapp-contact-btn" aria-label="ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß ÿπÿ®ÿ± Ÿàÿßÿ™ÿ≥ÿßÿ®" title="ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß ÿπÿ®ÿ± Ÿàÿßÿ™ÿ≥ÿßÿ®">
          <span style="margin-left:8px;"><i class="fab fa-whatsapp" aria-hidden="true"></i></span>
          <span>ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß</span>
        </a>
        <a href="https://www.facebook.com/share/1FQUFSrcBb/?mibextid=wwXIfr" target="_blank" rel="noopener noreferrer" class="contact-btn facebook-contact-btn" aria-label="ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß ÿπÿ®ÿ± ŸÅŸäÿ≥ÿ®ŸàŸÉ" title="ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß ÿπÿ®ÿ± ŸÅŸäÿ≥ÿ®ŸàŸÉ">
          <span class="icon"><i class="fab fa-facebook" aria-hidden="true"></i></span>
          <span>ŸÅŸäÿ≥ÿ®ŸàŸÉ</span>
        </a>
      </div>
    </div>
    <div class="category-filters" id="categoryFilters"></div>
    <div class="counter" id="counter"></div>
  </div>
  <div class="add-bike-form">
    <div class="form-title">ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÜÿ™ÿ¨ ÿ¨ÿØŸäÿØ üö≤üõ¥</div>
    <input type="text" id="newBikeName" placeholder="ÿßÿ≥ŸÖ ÿßŸÑŸÖŸÜÿ™ÿ¨">
    <select id="newBikeCategory">
      <option value="">ÿßÿÆÿ™ÿ± ÿßŸÑÿ™ÿµŸÜŸäŸÅ</option>
      <option value="vtt">ÿØÿ±ÿßÿ¨ÿßÿ™ ÿ¨ÿ®ŸÑŸäÿ©</option>
      <option value="route">ÿØÿ±ÿßÿ¨ÿßÿ™ ÿ≥Ÿäÿßÿ≠Ÿä</option>
      <option value="trottinette">ÿ≥ŸÉŸàÿ™ÿ±</option>
      <option value="accessoires">ÿßŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™</option>
      <option value="malhekat">ŸÖÿ™ŸÅÿ±ŸÇÿßÿ™</option>
      <option value="mecanique">ŸÖŸäŸÉÿßŸÜŸäŸÉ</option>
      <option value="enfant">ÿØÿ±ÿßÿ¨ÿßÿ™ ŸàŸÑÿßÿØŸä</option>
    </select>
    <input type="text" id="newBikeDesc" placeholder="ÿßŸÑŸàÿµŸÅ (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)">
    <input type="file" id="newBikeImgFile" accept="image/*">
    <button class="add-btn" id="addBikeBtn" onclick="addBike()"><i class="fa fa-plus-circle"></i>ÿ•ÿ∂ÿßŸÅÿ©</button>
    <span class="msg" id="addBikeMsg"></span>
  </div>
  <div class="bikes-list" id="bikesList"></div>
  <div class="no-result" id="noResult" style="display:none;">ŸÑÿß ŸäŸàÿ¨ÿØ ŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÖÿ∑ÿßÿ®ŸÇÿ© ŸÑÿ®ÿ≠ÿ´ŸÉ... üòî</div>
  <div class="popup-overlay" id="popup">
    <div class="popup-img-box">
      <button class="close-btn" onclick="closePopup()"><i class="fa fa-times"></i></button>
      <img src="" class="popup-img" id="popup-img" alt="ÿ™ŸÉÿ®Ÿäÿ± ÿßŸÑŸÖŸÜÿ™ÿ¨" />
    </div>
  </div>
  <div class="share-overlay" id="share-overlay" onclick="closeShare()"></div>
  <div class="share-popup" id="share-popup">
    <button class="close-btn" onclick="closeShare()"><i class="fa fa-times"></i></button>
    <div class="share-popup-title">ÿ¥ÿßÿ±ŸÉ Ÿáÿ∞ÿß ÿßŸÑŸÖŸÜÿ™ÿ¨ üö¥</div>
    <input type="text" id="share-link" readonly value="">
    <button class="copy-btn" id="copy-share-btn"><i class="fa fa-copy"></i>ŸÜÿ≥ÿÆ ÿßŸÑÿ±ÿßÿ®ÿ∑</button>
    <span class="copied" id="copied-msg"><i class="fa fa-check"></i> ÿ™ŸÖ ŸÜÿ≥ÿÆ ÿßŸÑÿ±ÿßÿ®ÿ∑!</span>
  </div>
  <div class="footer">
    ¬© Mallouk Bike  ‚Äì ÿ¥ÿßÿ±ŸÉ Ÿàÿ≤ÿ±ŸÜÿß ŸÖÿ¨ÿØÿØÿßŸã!
  </div>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script>
    // --- JS Mallouk Bike (all in one file) ---
    const CATEGORIES = [
      {id:'vtt',label:'ÿØÿ±ÿßÿ¨ÿßÿ™ ÿ¨ÿ®ŸÑŸäÿ©',badge:'vtt'},
      {id:'route',label:'ÿØÿ±ÿßÿ¨ÿßÿ™ ÿ≥Ÿäÿßÿ≠Ÿä',badge:'route'},
      {id:'trottinette',label:'ÿ≥ŸÉŸàÿ™ÿ±',badge:'trottinette'},
      {id:'accessoires',label:'ÿßŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™',badge:'accessoires'},
      {id:'malhekat',label:'ŸÖÿ™ŸÅÿ±ŸÇÿßÿ™',badge:'malhekat'},
      {id:'mecanique',label:'ŸÖŸäŸÉÿßŸÜŸäŸÉ',badge:'mecanique'},
      {id:'enfant',label:'ÿØÿ±ÿßÿ¨ÿßÿ™ ŸàŸÑÿßÿØŸä',badge:'enfant'}
    ];
    const CATEGORY_LOOKUP = Object.fromEntries(CATEGORIES.map(c => [c.id, c]));
    const firebaseConfig = {
      apiKey: "AIzaSyCqr8cCSO_RZRxNWdz75DAJJsHxNLXS9Jc",
      authDomain: "mallouk-bike.firebaseapp.com",
      databaseURL: "https://mallouk-bike-default-rtdb.firebaseio.com",
      projectId: "mallouk-bike",
      storageBucket: "mallouk-bike.firebasestorage.app",
      messagingSenderId: "847523992830",
      appId: "1:847523992830:web:210166ba53b3220bc281af",
      measurementId: "G-GQF1FPY409"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const ADMIN_PASSWORD = "2026";
    let allBikes = [];
    let renderTimer = null;
    let currentCategory = 'all';
    let currentSearch = '';
    let highlightBikeId = null;
    let highlightTimeout = null;
    renderCategoryFilters();
    attachSearchHandler();
    getHighlightFromUrl();
    loadBikesRealtime();
    setCategoryFilterActive('all');
    function removeBikeIdFromUrl() {
      const url = new URL(window.location.href);
      if (url.searchParams.has('bike_id')) {
        url.searchParams.delete('bike_id');
        window.history.replaceState({}, '', url.pathname + url.search);
      }
      highlightBikeId = null;
    }
    function renderCategoryFilters() {
      const filters = document.getElementById('categoryFilters');
      filters.innerHTML = '';
      const btnAll = document.createElement('button');
      btnAll.className = 'filter-btn active';
      btnAll.textContent = 'ÿßŸÑŸÉŸÑ';
      btnAll.onclick = () => {
        filterByCategory('all');
        removeBikeIdFromUrl();
      };
      btnAll.id = 'filter-btn-all';
      filters.appendChild(btnAll);
      CATEGORIES.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'filter-btn';
        btn.textContent = cat.label;
        btn.onclick = () => filterByCategory(cat.id);
        btn.id = 'filter-btn-' + cat.id;
        filters.appendChild(btn);
      });
    }
    function setCategoryFilterActive(category) {
      document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
      if(category === 'all') {
        document.getElementById('filter-btn-all').classList.add('active');
      } else {
        const btn = document.getElementById('filter-btn-' + category);
        if(btn) btn.classList.add('active');
      }
    }
    function filterByCategory(catId) {
      currentCategory = catId;
      setCategoryFilterActive(catId);
      delayedRender(true);
    }
    function attachSearchHandler() {
      document.getElementById('searchBar').addEventListener('input', function(){
        currentSearch = this.value.trim().toLowerCase();
        delayedRender();
      });
    }
    function loadBikesRealtime() {
      db.ref('mallouk_bikes').on('value', function(snapshot) {
        const bikesObj = snapshot.val() || {};
        allBikes = Object.entries(bikesObj).map(([bikeId, bike]) => ({...bike, id: bikeId}));
        delayedRender();
      });
    }
    function delayedRender(animation = false) {
      if(renderTimer) clearTimeout(renderTimer);
      renderTimer = setTimeout(() => renderBikes(animation), 80);
    }
    function renderBikes(animate = false) {
      let bikes = allBikes;
      if(currentSearch) {
        bikes = bikes.filter(bike => {
          const name = bike.name?.toLowerCase() || '';
          const desc = bike.desc?.toLowerCase() || '';
          const cat = bike.category?.toLowerCase() || '';
          return name.includes(currentSearch) || desc.includes(currentSearch) || (CATEGORY_LOOKUP[cat]?.label.toLowerCase().includes(currentSearch));
        });
      }
      if(currentCategory !== 'all') {
        bikes = bikes.filter(bike => bike.category === currentCategory);
      }
      bikes = bikes.slice().sort((a,b) => b.id - a.id);
      const list = document.getElementById('bikesList');
      list.innerHTML = '';
      document.getElementById('counter').textContent = bikes.length ? (`${bikes.length} ŸÖŸÜÿ™ÿ¨${bikes.length === 1 ? '' : 'ÿßÿ™'} ŸÖÿπÿ±Ÿàÿ∂ÿ©`) : '';
      document.getElementById('noResult').style.display = bikes.length ? 'none' : 'block';
      if(!bikes.length) return;
      bikes.forEach((bike,i) => {
        const card = document.createElement('div');
        card.className = 'bike-card';
        card.setAttribute('data-id', bike.id);
        card.style.animationDelay = animate ? (i*40)+'ms' : '0ms';
        let badgeClass = CATEGORY_LOOKUP[bike.category]?.badge || '';
        let badgeLabel = CATEGORY_LOOKUP[bike.category]?.label || bike.category || '';
        card.innerHTML = `
          <span class="badge ${badgeClass}">${badgeLabel}</span>
          <img src="${bike.img}" class="bike-img" alt="${bike.name}" data-name="${bike.name}" data-id="${bike.id}">
          <div class="bike-name">${bike.name}</div>
          <div class="bike-desc">${bike.desc ? bike.desc : ''}</div>
          <div class="card-btns">
            <button class="share-btn" onclick="shareBikeById('${bike.id}')"><i class="fa fa-share-alt"></i>ŸÖÿ¥ÿßÿ±ŸÉÿ©</button>
            <button class="delete-btn" onclick="deleteBike('${bike.id}')"><i class="fa fa-trash"></i>ÿ≠ÿ∞ŸÅ</button>
          </div>
        `;
        list.appendChild(card);
      });
      attachZoom();
      highlightBikeIfNeeded();
    }
    const popup = document.getElementById('popup');
    const popupImg = document.getElementById('popup-img');
    function attachZoom() {
      document.querySelectorAll('.bike-img').forEach(img => {
        img.onclick = function() {
          popupImg.src = this.src;
          popup.classList.add('active');
        }
      });
    }
    function closePopup() {
      popup.classList.remove('active');
      popupImg.src = "";
    }
    window.closePopup = closePopup;
    popup.addEventListener('click',function(e){ if(e.target === popup) closePopup(); });
    document.addEventListener('keydown',function(e){
      if(e.key === 'Escape'){closePopup();closeShare();}
    });
    function getHighlightFromUrl() {
      const params = new URLSearchParams(window.location.search);
      highlightBikeId = params.get('bike_id');
      if (highlightBikeId) {
        currentCategory = 'all';
        setCategoryFilterActive('all');
      }
    }
    function highlightBikeIfNeeded() {
      if (!highlightBikeId) return;
      if (highlightTimeout) {
        clearTimeout(highlightTimeout);
        highlightTimeout = null;
      }
      setTimeout(() => {
        const targetCard = Array.from(document.querySelectorAll('.bike-card')).find(card => card.getAttribute('data-id') === highlightBikeId);
        if (targetCard) {
          targetCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
          targetCard.classList.add('product-highlight');
          highlightTimeout = setTimeout(() => {
            targetCard.classList.remove('product-highlight');
            removeBikeIdFromUrl();
          }, 3000);
        } else {
          highlightTimeout = setTimeout(removeBikeIdFromUrl, 3000);
        }
      }, 400);
    }
    function shareBikeById(bikeId) {
      const url = window.location.origin + window.location.pathname + '?bike_id=' + encodeURIComponent(bikeId);
      if (navigator.share) {
        const bike = allBikes.find(b => b.id == bikeId);
        const title = bike?.name || 'ŸÖŸÜÿ™ÿ¨ ŸÖŸÜ Mallouk Bike';
        const text = bike?.desc ? bike.desc + ' - ŸÖŸÜ Mallouk Bike' : 'ŸÖŸÜ Mallouk Bike';
        navigator.share({
          title,
          text,
          url
        }).catch(() => {
          openSharePopup(url);
        });
      } else {
        openSharePopup(url);
      }
    }
    function openSharePopup(url) {
      document.getElementById('share-popup').classList.add('active');
      document.getElementById('share-overlay').classList.add('active');
      document.getElementById('share-link').value = url;
      document.getElementById('copied-msg').classList.remove('active');
      document.getElementById('copy-share-btn').onclick = function() {
        let input = document.getElementById('share-link');
        input.select();
        input.setSelectionRange(0, 99999);
        document.execCommand('copy');
        document.getElementById('copied-msg').classList.add('active');
        setTimeout(function() {
          document.getElementById('copied-msg').classList.remove('active');
        }, 1400);
      }
    }
    function closeShare() {
      document.getElementById('share-popup').classList.remove('active');
      document.getElementById('share-overlay').classList.remove('active');
    }
    window.closeShare = closeShare;
    function demandeMotDePasse(action) {
      let saisie = prompt(`Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ŸÑŸÄ ${action} :`);
      return saisie === ADMIN_PASSWORD;
    }
    function addBike() {
      let msg = document.getElementById('addBikeMsg');
      let btn = document.getElementById('addBikeBtn');
      if (!demandeMotDePasse("ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÜÿ™ÿ¨")) {
        msg.textContent = "‚õî ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©.";
        msg.style.color = "#d9303e";
        setTimeout(()=>{msg.textContent="";}, 2100);
        return;
      }
      const name = document.getElementById('newBikeName').value.trim();
      const category = document.getElementById('newBikeCategory').value;
      const desc = document.getElementById('newBikeDesc').value.trim();
      const fileInput = document.getElementById('newBikeImgFile');
      const file = fileInput.files[0];
      if (!name || !category || !file) {
        msg.textContent = "‚ö†Ô∏è Ÿäÿ±ÿ¨Ÿâ ÿ™ÿπÿ®ÿ¶ÿ© ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÑ!";
        msg.style.color = "#d9303e";
        return;
      }
      btn.disabled = true;
      btn.innerHTML = '<span class="loading"></span>ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ•ÿ∂ÿßŸÅÿ©...';
      msg.textContent = "";
      const reader = new FileReader();
      reader.onload = function(e) {
        let imgData = e.target.result;
        const bikeId = Date.now() + Math.floor(Math.random()*10000);
        db.ref('mallouk_bikes/' + bikeId).set({ name, category, desc, img: imgData }, function(error){
          btn.disabled = false;
          btn.innerHTML = '<i class="fa fa-plus-circle"></i>ÿ•ÿ∂ÿßŸÅÿ©';
          if(!error){
            msg.textContent = "‚úÖ ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖŸÜÿ™ÿ¨!";
            msg.style.color = "#16a085";
            setTimeout(()=>{msg.textContent="";}, 1800);
            document.getElementById('newBikeName').value = "";
            document.getElementById('newBikeCategory').value = "";
            document.getElementById('newBikeDesc').value = "";
            fileInput.value = "";
          } else {
            msg.textContent = "‚õî ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ•ÿ∂ÿßŸÅÿ©!";
            msg.style.color = "#d9303e";
          }
        });
      };
      reader.readAsDataURL(file);
    }
    function deleteBike(bikeId) {
      if (!demandeMotDePasse("ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖŸÜÿ™ÿ¨")) {
        alert("‚õî ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©. ÿ™ŸÖ ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿ≠ÿ∞ŸÅ.");
        return;
      }
      if (confirm("üóëÔ∏è ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ≠ÿ∞ŸÅ Ÿáÿ∞ÿß ÿßŸÑŸÖŸÜÿ™ÿ¨ÿü")) {
        db.ref('mallouk_bikes/' + bikeId).remove();
      }
    }
  </script>
</body>
</html>
